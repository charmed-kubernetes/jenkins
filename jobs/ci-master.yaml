# K8s Jenkin GIT repos
- scm:
    name: k8s-jenkins-jenkaas
    scm:
      - git:
          url: https://github.com/charmed-kubernetes/kubernetes-jenkins.git
          branches:
            - 'master'
        skip-tag: true
        fastpoll: true
        shallow-clone: true
        clean: {before: true}

- scm:
    name: k8s-jenkins-scm
    scm:
      - git:
          url: https://github.com/charmed-kubernetes/kubernetes-jenkins.git
          branches:
            - 'jenkaas'

- scm:
    name: k8s-jenkins-k8sci
    scm:
      - git:
          url: https://github.com/juju-solutions/kubernetes-jenkins.git
          branches:
            - 'k8sci'

- scm:
    name: k8s-upstream
    scm:
      - git:
         url: https://github.com/kubernetes/kubernetes
         basedir: 'kubernetes'
         skip-tag: true
         fastpoll: true
         shallow-clone: true
         clean: {before: true}
         branches:
          - master

- builder:
    name: set-global-env
    builders:
      - shell: |
          export GIT_SSH_COMMAND="ssh -i /var/lib/jenkins/.ssh/cdkbot_rsa -oStrictHostKeyChecking=no"
          export GOPATH=/var/lib/jenkins/go
          export PATH=$PATH:/var/lib/jenkins/go/bin:/usr/local/go/bin:/var/lib/jenkins/venv/ci/bin

- builder:
    name: git-clone-jenkaas
    builders:
      - shell: |
          git clone --depth 1 https://github.com/charmed-kubernetes/kubernetes-jenkins.git ci
